{"version":3,"file":"validate-props.js","names":["AccountId","TokenId","dictionary","MAX_CUSTOM_FEES_NUMBER","MAX_BATCH_SIZE_NUMBER","MIN_BATCH_SIZE_NUMBER","MIN_AMOUNT_NUMBER","validatePropsForSharedNFTMinting","props","validateBatchSize","batchSize","validTokenId","tokenId","validateAmount","amount","validateMetaData","validatePropsForUniqueNFTMinting","validateMetadataForUnique","validatePropsForCreateCollection","validateAccountAndPrivateKey","treasuryAccount","validAccountId","treasuryAccountPrivateKey","validateAutoRenewAccount","autoRenewAccount","autoRenewAccountPrivateKey","validateCollectionSymbol","validateCollectionName","validateCustomFees","validatePropsForFixedFeeFunction","collectorAccountId","hbarAmountOrAmountAndDenominatingToken","validatePropsForRoyaltyFeeFunction","validatePropsForIncreaseNFTSupply","hbarAmount","denominatingTokenId","Error","createCollection","Object","prototype","hasOwnProperty","call","customFees","length","hederaActions","tooManyCustomFees","fromString","error","cannotParseTokenId","accountId","cannotParseAccountId","treasuryAccountPrivateKeySignRequired","autoRenewAccountPrivateKeySignRequired","collectionSymbol","collectionSymbolRequired","collectionName","collectionNameRequired","maxBatchSize","minBatchSize","minAmount","metaData","metadataRequired","metadataArray","pathToMetadataURIsFile","mintToken","csvOrArrayRequired"],"sources":["../../../src/utils/validate-props.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { AccountId, TokenId } from '@hashgraph/sdk';\nimport {\n  validateCreateCollectionProps,\n  uniqueMintingValidationProps,\n  sharedMintingValidationProps,\n  fixedFeeValidationProps,\n  royaltyFeeValidationProps,\n  increaseNFTSupplyValidationProps,\n} from '../types/validate-props';\nimport { dictionary } from './constants/dictionary';\n\nconst MAX_CUSTOM_FEES_NUMBER = 10;\nconst MAX_BATCH_SIZE_NUMBER = 10;\nconst MIN_BATCH_SIZE_NUMBER = 1;\nconst MIN_AMOUNT_NUMBER = 1;\n\nexport const validatePropsForSharedNFTMinting = (props: sharedMintingValidationProps) => {\n  validateBatchSize(props.batchSize);\n  validTokenId(props.tokenId);\n  validateAmount(props.amount);\n  validateMetaData(props);\n};\n\nexport const validatePropsForUniqueNFTMinting = (props: uniqueMintingValidationProps) => {\n  validateMetadataForUnique(props);\n  validateBatchSize(props.batchSize);\n  validTokenId(props.tokenId);\n};\n\nexport const validatePropsForCreateCollection = (props: validateCreateCollectionProps) => {\n  validateAccountAndPrivateKey(props);\n  if (props.treasuryAccount) validAccountId(props.treasuryAccount);\n  if (props.treasuryAccountPrivateKey) props.treasuryAccountPrivateKey;\n\n  validateAutoRenewAccount(props);\n  if (props.autoRenewAccount) validAccountId(props.autoRenewAccount);\n  if (props.autoRenewAccountPrivateKey) props.autoRenewAccountPrivateKey;\n\n  validateCollectionSymbol(props);\n  validateCollectionName(props);\n  validateCustomFees(props);\n};\n\nexport const validatePropsForFixedFeeFunction = (props: fixedFeeValidationProps) => {\n  validAccountId(props.collectorAccountId);\n  hbarAmountOrAmountAndDenominatingToken(props);\n};\n\nexport const validatePropsForRoyaltyFeeFunction = (props: royaltyFeeValidationProps) => {\n  validAccountId(props.collectorAccountId);\n};\n\nexport const validatePropsForIncreaseNFTSupply = (props: increaseNFTSupplyValidationProps) => {\n  validateBatchSize(props.batchSize);\n  validateAmount(props.amount);\n};\n\nconst hbarAmountOrAmountAndDenominatingToken = (props: fixedFeeValidationProps) => {\n  if (\n    (props.hbarAmount && (props.amount || props.denominatingTokenId)) ||\n    (!props.hbarAmount && (!props.amount || !props.denominatingTokenId))\n  ) {\n    throw new Error(dictionary.createCollection.hbarAmountOrAmountAndDenominatingToken);\n  }\n};\n\nconst validateCustomFees = (props: validateCreateCollectionProps) => {\n  if (Object.prototype.hasOwnProperty.call(props, 'collectionSymbol')) {\n    if (props.customFees && props.customFees.length > MAX_CUSTOM_FEES_NUMBER) throw new Error(dictionary.hederaActions.tooManyCustomFees);\n  }\n};\n\nconst validTokenId = (tokenId: string) => {\n  try {\n    TokenId.fromString(tokenId);\n  } catch (error) {\n    throw new Error(dictionary.hederaActions.cannotParseTokenId);\n  }\n};\n\nconst validAccountId = (accountId: string) => {\n  if (!accountId) throw new Error(dictionary.hederaActions.cannotParseAccountId);\n  try {\n    AccountId.fromString(accountId);\n  } catch (error) {\n    throw new Error(dictionary.hederaActions.cannotParseAccountId);\n  }\n};\n\nconst validateAccountAndPrivateKey = (props: validateCreateCollectionProps) => {\n  if (\n    Object.prototype.hasOwnProperty.call(props, 'treasuryAccount') ||\n    Object.prototype.hasOwnProperty.call(props, 'treasuryAccountPrivateKey')\n  ) {\n    if ((props.treasuryAccount && !props.treasuryAccountPrivateKey) || (!props.treasuryAccount && props.treasuryAccountPrivateKey)) {\n      throw new Error(dictionary.createCollection.treasuryAccountPrivateKeySignRequired);\n    }\n  }\n};\n\nconst validateAutoRenewAccount = (props: validateCreateCollectionProps) => {\n  if (\n    Object.prototype.hasOwnProperty.call(props, 'autoRenewAccount') ||\n    Object.prototype.hasOwnProperty.call(props, 'autoRenewAccountPrivateKey')\n  ) {\n    if ((props.autoRenewAccount && !props.autoRenewAccountPrivateKey) || (!props.autoRenewAccount && props.autoRenewAccountPrivateKey)) {\n      throw new Error(dictionary.createCollection.autoRenewAccountPrivateKeySignRequired);\n    }\n  }\n};\n\nconst validateCollectionSymbol = (props: validateCreateCollectionProps) => {\n  if (!props.collectionSymbol) throw new Error(dictionary.createCollection.collectionSymbolRequired);\n};\n\nconst validateCollectionName = (props: validateCreateCollectionProps) => {\n  if (!props.collectionName) throw new Error(dictionary.createCollection.collectionNameRequired);\n};\n\nconst validateBatchSize = (batchSize: number) => {\n  if (batchSize > MAX_BATCH_SIZE_NUMBER) throw new Error(dictionary.hederaActions.maxBatchSize);\n  if (batchSize < MIN_BATCH_SIZE_NUMBER) throw new Error(dictionary.hederaActions.minBatchSize);\n};\n\nconst validateAmount = (amount: number) => {\n  if (!amount || amount < MIN_AMOUNT_NUMBER) throw new Error(dictionary.hederaActions.minAmount);\n};\n\nconst validateMetaData = (props: sharedMintingValidationProps) => {\n  if (Object.prototype.hasOwnProperty.call(props, 'metaData')) {\n    if (!props.metaData) throw new Error(dictionary.hederaActions.metadataRequired);\n  }\n};\n\nconst validateMetadataForUnique = (props: uniqueMintingValidationProps) => {\n  if (\n    (!Object.prototype.hasOwnProperty.call(props, 'metadataArray') || !props.metadataArray) &&\n    (!Object.prototype.hasOwnProperty.call(props, 'pathToMetadataURIsFile') || !props.pathToMetadataURIsFile)\n  ) {\n    throw new Error(dictionary.mintToken.csvOrArrayRequired);\n  }\n};\n"],"mappings":"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","ignoreList":[]}