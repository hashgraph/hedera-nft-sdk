{"version":3,"file":"increase-nft-supply-e2e.test.js","names":["LONG_E2E_TIMEOUT","MIRROR_NODE_DELAY","nftSDK","operatorPrivateKey","NftId","TokenId","TokenNftInfoQuery","describe","testCases","amount","forEach","it","tokenId","createCollection","collectionName","collectionSymbol","baseNFT","mintUniqueMetadata","batchSize","metadata","supplyKey","nftInfo","setNftId","fromString","serialNumber","execute","client","Promise","r","setTimeout","increaseSupplyResult","increaseNFTSupply","nftId","mintedNft","nftInfos","expect","toString","toEqual","content"],"sources":["../../../../../src/test/e2e/create-collection/increase-nft-supply-e2e.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { LONG_E2E_TIMEOUT, MIRROR_NODE_DELAY } from '../../__mocks__/consts';\nimport { nftSDK, operatorPrivateKey } from '../e2e-consts';\nimport { NftId, TokenId, TokenNftInfoQuery } from '@hashgraph/sdk';\n\ndescribe('increaseNFTSupply function e2e', () => {\n  const testCases = [{ amount: 1 }, { amount: 3 }, { amount: 10 }];\n\n  testCases.forEach(({ amount }) => {\n    it(\n      `Increasing a token supply by ${amount}`,\n      async () => {\n        const tokenId = await nftSDK.createCollection({\n          collectionName: 'test_name',\n          collectionSymbol: 'test_symbol',\n        });\n        const baseNFT = await nftSDK.mintUniqueMetadata({\n          tokenId,\n          batchSize: 10,\n          metadata: ['www.youtube.com'],\n          supplyKey: operatorPrivateKey,\n        });\n        const nftInfo = await new TokenNftInfoQuery()\n          .setNftId(new NftId(TokenId.fromString(tokenId), baseNFT[0].serialNumber))\n          .execute(nftSDK.client);\n\n        //wait for the collection and nfts to be available on mirror node\n        await new Promise((r) => setTimeout(r, MIRROR_NODE_DELAY));\n\n        const increaseSupplyResult = await nftSDK.increaseNFTSupply({\n          nftId: nftInfo[0].nftId,\n          amount,\n          batchSize: 10,\n          supplyKey: operatorPrivateKey,\n        });\n\n        for (const mintedNft of increaseSupplyResult) {\n          const nftInfos = await new TokenNftInfoQuery()\n            .setNftId(new NftId(TokenId.fromString(tokenId), mintedNft.serialNumber))\n            .execute(nftSDK.client);\n\n          expect(nftInfos[0].metadata!.toString()).toEqual(baseNFT[0].content);\n        }\n      },\n      LONG_E2E_TIMEOUT\n    );\n  });\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,gBAAgB,EAAEC,iBAAiB,QAAQ,wBAAwB;AAC5E,SAASC,MAAM,EAAEC,kBAAkB,QAAQ,eAAe;AAC1D,SAASC,KAAK,EAAEC,OAAO,EAAEC,iBAAiB,QAAQ,gBAAgB;AAElEC,QAAQ,CAAC,gCAAgC,EAAE,MAAM;EAC/C,MAAMC,SAAS,GAAG,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC,EAAE;IAAEA,MAAM,EAAE;EAAE,CAAC,EAAE;IAAEA,MAAM,EAAE;EAAG,CAAC,CAAC;EAEhED,SAAS,CAACE,OAAO,CAAC,CAAC;IAAED;EAAO,CAAC,KAAK;IAChCE,EAAE,CACC,gCAA+BF,MAAO,EAAC,EACxC,YAAY;MACV,MAAMG,OAAO,GAAG,MAAMV,MAAM,CAACW,gBAAgB,CAAC;QAC5CC,cAAc,EAAE,WAAW;QAC3BC,gBAAgB,EAAE;MACpB,CAAC,CAAC;MACF,MAAMC,OAAO,GAAG,MAAMd,MAAM,CAACe,kBAAkB,CAAC;QAC9CL,OAAO;QACPM,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,CAAC,iBAAiB,CAAC;QAC7BC,SAAS,EAAEjB;MACb,CAAC,CAAC;MACF,MAAMkB,OAAO,GAAG,MAAM,IAAIf,iBAAiB,CAAC,CAAC,CAC1CgB,QAAQ,CAAC,IAAIlB,KAAK,CAACC,OAAO,CAACkB,UAAU,CAACX,OAAO,CAAC,EAAEI,OAAO,CAAC,CAAC,CAAC,CAACQ,YAAY,CAAC,CAAC,CACzEC,OAAO,CAACvB,MAAM,CAACwB,MAAM,CAAC;;MAEzB;MACA,MAAM,IAAIC,OAAO,CAAEC,CAAC,IAAKC,UAAU,CAACD,CAAC,EAAE3B,iBAAiB,CAAC,CAAC;MAE1D,MAAM6B,oBAAoB,GAAG,MAAM5B,MAAM,CAAC6B,iBAAiB,CAAC;QAC1DC,KAAK,EAAEX,OAAO,CAAC,CAAC,CAAC,CAACW,KAAK;QACvBvB,MAAM;QACNS,SAAS,EAAE,EAAE;QACbE,SAAS,EAAEjB;MACb,CAAC,CAAC;MAEF,KAAK,MAAM8B,SAAS,IAAIH,oBAAoB,EAAE;QAC5C,MAAMI,QAAQ,GAAG,MAAM,IAAI5B,iBAAiB,CAAC,CAAC,CAC3CgB,QAAQ,CAAC,IAAIlB,KAAK,CAACC,OAAO,CAACkB,UAAU,CAACX,OAAO,CAAC,EAAEqB,SAAS,CAACT,YAAY,CAAC,CAAC,CACxEC,OAAO,CAACvB,MAAM,CAACwB,MAAM,CAAC;QAEzBS,MAAM,CAACD,QAAQ,CAAC,CAAC,CAAC,CAACf,QAAQ,CAAEiB,QAAQ,CAAC,CAAC,CAAC,CAACC,OAAO,CAACrB,OAAO,CAAC,CAAC,CAAC,CAACsB,OAAO,CAAC;MACtE;IACF,CAAC,EACDtC,gBACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}