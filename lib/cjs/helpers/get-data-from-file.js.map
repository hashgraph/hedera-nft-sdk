{"version":3,"file":"get-data-from-file.js","names":["_fs","_interopRequireDefault","require","_csvParser","obj","__esModule","default","getDataFromFile","pathToMetadataURIsFile","results","Promise","resolve","reject","fs","createReadStream","pipe","csv","separator","quote","headers","on","data","chunk","Object","values","toString","urls","split","map","url","trim","filter","i","push","error","Error","String","exports"],"sources":["../../../src/helpers/get-data-from-file.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport fs from 'fs';\nimport csv from 'csv-parser';\n\nexport const getDataFromFile = async (pathToMetadataURIsFile: string): Promise<string[]> => {\n  const results: string[] = [];\n  try {\n    await new Promise<void>((resolve, reject) => {\n      fs.createReadStream(pathToMetadataURIsFile)\n        .pipe(csv({ separator: ',', quote: ',', headers: false }))\n        .on('data', (data) => {\n          const chunk = Object.values(data)[0]?.toString() || '';\n          const urls = chunk\n            .split(',')\n            .map((url) => url.trim())\n            .filter((i) => i);\n          results.push(...urls);\n        })\n        .on('end', resolve)\n        .on('error', (error) => reject(error));\n    });\n  } catch (error) {\n    throw new Error(String(error));\n  }\n  return results;\n};\n"],"mappings":";;;;;;AAmBA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AApB7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIO,MAAMG,eAAe,GAAG,MAAOC,sBAA8B,IAAwB;EAC1F,MAAMC,OAAiB,GAAG,EAAE;EAC5B,IAAI;IACF,MAAM,IAAIC,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,KAAK;MAC3CC,WAAE,CAACC,gBAAgB,CAACN,sBAAsB,CAAC,CACxCO,IAAI,CAAC,IAAAC,kBAAG,EAAC;QAAEC,SAAS,EAAE,GAAG;QAAEC,KAAK,EAAE,GAAG;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC,CAAC,CACzDC,EAAE,CAAC,MAAM,EAAGC,IAAI,IAAK;QACpB,MAAMC,KAAK,GAAGC,MAAM,CAACC,MAAM,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEI,QAAQ,CAAC,CAAC,IAAI,EAAE;QACtD,MAAMC,IAAI,GAAGJ,KAAK,CACfK,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACxBC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAAC;QACnBvB,OAAO,CAACwB,IAAI,CAAC,GAAGP,IAAI,CAAC;MACvB,CAAC,CAAC,CACDN,EAAE,CAAC,KAAK,EAAET,OAAO,CAAC,CAClBS,EAAE,CAAC,OAAO,EAAGc,KAAK,IAAKtB,MAAM,CAACsB,KAAK,CAAC,CAAC;IAC1C,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;IACd,MAAM,IAAIC,KAAK,CAACC,MAAM,CAACF,KAAK,CAAC,CAAC;EAChC;EACA,OAAOzB,OAAO;AAChB,CAAC;AAAC4B,OAAA,CAAA9B,eAAA,GAAAA,eAAA","ignoreList":[]}