{"version":3,"file":"validate-single-on-chain-nft-metadata-e2e.test.js","names":["_tokenMetadataValidator","require","_e2eConsts","_consts","describe","tokenId","beforeAll","nftSDK","createCollection","collectionName","collectionSymbol","mintSharedMetadata","amount","AMOUNT_OF_NFTS_TO_MINT_SINGLE","batchSize","BATCH_SIZE_SINGLE","metaData","LINK_TO_JSON_OBJECT_WITHOUT_ERRORS","supplyKey","operatorPrivateKey","Promise","resolve","setTimeout","MIRROR_NODE_DELAY","LONG_E2E_TIMEOUT","it","validationResponse","TokenMetadataValidator","validateSingleOnChainNFTMetadata","NETWORK","METADATA_TO_VALIDATE_OBJECT_SERIAL","IPFS_GATEWAY","expect","isValid","toBe","errors","toHaveLength"],"sources":["../../../../../src/test/e2e/hip412-validation/validate-single-on-chain-nft-metadata-e2e.test.ts"],"sourcesContent":["import { TokenMetadataValidator } from '../../../token-metadata-validator';\nimport {\n  nftSDK,\n  operatorPrivateKey,\n  NETWORK,\n  IPFS_GATEWAY,\n  LINK_TO_JSON_OBJECT_WITHOUT_ERRORS,\n  AMOUNT_OF_NFTS_TO_MINT_SINGLE,\n  BATCH_SIZE_SINGLE,\n  METADATA_TO_VALIDATE_OBJECT_SERIAL,\n} from '../e2e-consts';\nimport { LONG_E2E_TIMEOUT, MIRROR_NODE_DELAY } from '../../__mocks__/consts';\n\ndescribe('E2E test for validating single NFT Metadata Object Against HIP412 schema', () => {\n  let tokenId: string;\n\n  beforeAll(async () => {\n    tokenId = await nftSDK.createCollection({\n      collectionName: 'valid_test_collection-single',\n      collectionSymbol: 'VTC-Single',\n    });\n\n    await nftSDK.mintSharedMetadata({\n      tokenId,\n      amount: AMOUNT_OF_NFTS_TO_MINT_SINGLE,\n      batchSize: BATCH_SIZE_SINGLE,\n      metaData: LINK_TO_JSON_OBJECT_WITHOUT_ERRORS,\n      supplyKey: operatorPrivateKey,\n    });\n\n    await new Promise((resolve) => setTimeout(resolve, MIRROR_NODE_DELAY));\n  }, LONG_E2E_TIMEOUT);\n\n  it(\n    'should successfully validate single metadata object with particular serial number from previously created NFT collection against the HIP412 schema',\n    async () => {\n      const validationResponse = await TokenMetadataValidator.validateSingleOnChainNFTMetadata(\n        NETWORK,\n        tokenId,\n        METADATA_TO_VALIDATE_OBJECT_SERIAL,\n        IPFS_GATEWAY\n      );\n\n      expect(validationResponse.isValid).toBe(true);\n      expect(validationResponse.errors).toHaveLength(0);\n    },\n    LONG_E2E_TIMEOUT\n  );\n});\n"],"mappings":";;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AAUA,IAAAE,OAAA,GAAAF,OAAA;AAEAG,QAAQ,CAAC,0EAA0E,EAAE,MAAM;EACzF,IAAIC,OAAe;EAEnBC,SAAS,CAAC,YAAY;IACpBD,OAAO,GAAG,MAAME,iBAAM,CAACC,gBAAgB,CAAC;MACtCC,cAAc,EAAE,8BAA8B;MAC9CC,gBAAgB,EAAE;IACpB,CAAC,CAAC;IAEF,MAAMH,iBAAM,CAACI,kBAAkB,CAAC;MAC9BN,OAAO;MACPO,MAAM,EAAEC,wCAA6B;MACrCC,SAAS,EAAEC,4BAAiB;MAC5BC,QAAQ,EAAEC,6CAAkC;MAC5CC,SAAS,EAAEC;IACb,CAAC,CAAC;IAEF,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAKC,UAAU,CAACD,OAAO,EAAEE,yBAAiB,CAAC,CAAC;EACxE,CAAC,EAAEC,wBAAgB,CAAC;EAEpBC,EAAE,CACA,oJAAoJ,EACpJ,YAAY;IACV,MAAMC,kBAAkB,GAAG,MAAMC,8CAAsB,CAACC,gCAAgC,CACtFC,kBAAO,EACPxB,OAAO,EACPyB,6CAAkC,EAClCC,uBACF,CAAC;IAEDC,MAAM,CAACN,kBAAkB,CAACO,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAC7CF,MAAM,CAACN,kBAAkB,CAACS,MAAM,CAAC,CAACC,YAAY,CAAC,CAAC,CAAC;EACnD,CAAC,EACDZ,wBACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]}