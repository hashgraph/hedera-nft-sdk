{"version":3,"file":"increase-nft-supply-e2e.test.js","names":["_consts","require","_e2eConsts","_sdk","describe","testCases","amount","forEach","_ref","it","tokenId","nftSDK","createCollection","collectionName","collectionSymbol","baseNFT","mintUniqueMetadata","batchSize","metadata","supplyKey","operatorPrivateKey","nftInfo","TokenNftInfoQuery","setNftId","NftId","TokenId","fromString","serialNumber","execute","client","Promise","r","setTimeout","MIRROR_NODE_DELAY","increaseSupplyResult","increaseNFTSupply","nftId","mintedNft","nftInfos","expect","toString","toEqual","content","LONG_E2E_TIMEOUT"],"sources":["../../../../../src/test/e2e/create-collection/increase-nft-supply-e2e.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { LONG_E2E_TIMEOUT, MIRROR_NODE_DELAY } from '../../__mocks__/consts';\nimport { nftSDK, operatorPrivateKey } from '../e2e-consts';\nimport { NftId, TokenId, TokenNftInfoQuery } from '@hashgraph/sdk';\n\ndescribe('increaseNFTSupply function e2e', () => {\n  const testCases = [{ amount: 1 }, { amount: 3 }, { amount: 10 }];\n\n  testCases.forEach(({ amount }) => {\n    it(\n      `Increasing a token supply by ${amount}`,\n      async () => {\n        const tokenId = await nftSDK.createCollection({\n          collectionName: 'test_name',\n          collectionSymbol: 'test_symbol',\n        });\n        const baseNFT = await nftSDK.mintUniqueMetadata({\n          tokenId,\n          batchSize: 10,\n          metadata: ['www.youtube.com'],\n          supplyKey: operatorPrivateKey,\n        });\n        const nftInfo = await new TokenNftInfoQuery()\n          .setNftId(new NftId(TokenId.fromString(tokenId), baseNFT[0].serialNumber))\n          .execute(nftSDK.client);\n\n        //wait for the collection and nfts to be available on mirror node\n        await new Promise((r) => setTimeout(r, MIRROR_NODE_DELAY));\n\n        const increaseSupplyResult = await nftSDK.increaseNFTSupply({\n          nftId: nftInfo[0].nftId,\n          amount,\n          batchSize: 10,\n          supplyKey: operatorPrivateKey,\n        });\n\n        for (const mintedNft of increaseSupplyResult) {\n          const nftInfos = await new TokenNftInfoQuery()\n            .setNftId(new NftId(TokenId.fromString(tokenId), mintedNft.serialNumber))\n            .execute(nftSDK.client);\n\n          expect(nftInfos[0].metadata!.toString()).toEqual(baseNFT[0].content);\n        }\n      },\n      LONG_E2E_TIMEOUT\n    );\n  });\n});\n"],"mappings":";;AAmBA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AACA,IAAAE,IAAA,GAAAF,OAAA;AArBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKAG,QAAQ,CAAC,gCAAgC,EAAE,MAAM;EAC/C,MAAMC,SAAS,GAAG,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC,EAAE;IAAEA,MAAM,EAAE;EAAE,CAAC,EAAE;IAAEA,MAAM,EAAE;EAAG,CAAC,CAAC;EAEhED,SAAS,CAACE,OAAO,CAACC,IAAA,IAAgB;IAAA,IAAf;MAAEF;IAAO,CAAC,GAAAE,IAAA;IAC3BC,EAAE,CACC,gCAA+BH,MAAO,EAAC,EACxC,YAAY;MACV,MAAMI,OAAO,GAAG,MAAMC,iBAAM,CAACC,gBAAgB,CAAC;QAC5CC,cAAc,EAAE,WAAW;QAC3BC,gBAAgB,EAAE;MACpB,CAAC,CAAC;MACF,MAAMC,OAAO,GAAG,MAAMJ,iBAAM,CAACK,kBAAkB,CAAC;QAC9CN,OAAO;QACPO,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,CAAC,iBAAiB,CAAC;QAC7BC,SAAS,EAAEC;MACb,CAAC,CAAC;MACF,MAAMC,OAAO,GAAG,MAAM,IAAIC,sBAAiB,CAAC,CAAC,CAC1CC,QAAQ,CAAC,IAAIC,UAAK,CAACC,YAAO,CAACC,UAAU,CAAChB,OAAO,CAAC,EAAEK,OAAO,CAAC,CAAC,CAAC,CAACY,YAAY,CAAC,CAAC,CACzEC,OAAO,CAACjB,iBAAM,CAACkB,MAAM,CAAC;;MAEzB;MACA,MAAM,IAAIC,OAAO,CAAEC,CAAC,IAAKC,UAAU,CAACD,CAAC,EAAEE,yBAAiB,CAAC,CAAC;MAE1D,MAAMC,oBAAoB,GAAG,MAAMvB,iBAAM,CAACwB,iBAAiB,CAAC;QAC1DC,KAAK,EAAEf,OAAO,CAAC,CAAC,CAAC,CAACe,KAAK;QACvB9B,MAAM;QACNW,SAAS,EAAE,EAAE;QACbE,SAAS,EAAEC;MACb,CAAC,CAAC;MAEF,KAAK,MAAMiB,SAAS,IAAIH,oBAAoB,EAAE;QAC5C,MAAMI,QAAQ,GAAG,MAAM,IAAIhB,sBAAiB,CAAC,CAAC,CAC3CC,QAAQ,CAAC,IAAIC,UAAK,CAACC,YAAO,CAACC,UAAU,CAAChB,OAAO,CAAC,EAAE2B,SAAS,CAACV,YAAY,CAAC,CAAC,CACxEC,OAAO,CAACjB,iBAAM,CAACkB,MAAM,CAAC;QAEzBU,MAAM,CAACD,QAAQ,CAAC,CAAC,CAAC,CAACpB,QAAQ,CAAEsB,QAAQ,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC1B,OAAO,CAAC,CAAC,CAAC,CAAC2B,OAAO,CAAC;MACtE;IACF,CAAC,EACDC,wBACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}