{"version":3,"file":"validate-array-of-objects.test.js","names":["_tokenMetadataValidator","require","VALID_METADATA_OBJECTS","name","creator","description","image","type","properties","external_url","url","attributes","trait_type","value","MIXED_METADATA_OBJECTS","describe","it","validationResult","TokenMetadataValidator","validateArrayOfObjects","Object","values","results","forEach","result","expect","isValid","toBe","errorsCount","errors","length","allObjectsValid"],"sources":["../../../../src/test/integration/validate-array-of-objects.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { TokenMetadataValidator } from '../../token-metadata-validator';\nimport { MetadataObject } from '../../types/csv';\n\nconst VALID_METADATA_OBJECTS: MetadataObject[] = [\n  {\n    name: 'Example NFT 1',\n    creator: 'Hedera',\n    description: 'This is an example NFT 1',\n    image: 'https://nft.com/mycollection/1.jpg',\n    type: 'image/jpeg',\n    properties: {\n      external_url: 'https://nft.com/mycollection/1',\n      url: 'https://nft.com/mycollection/1',\n    },\n    attributes: [\n      { trait_type: 'color', value: 'rgb(0,255,0)' },\n      { trait_type: 'hasPipe', value: 'false' },\n      { trait_type: 'stamina', value: '55' },\n    ],\n  },\n  {\n    name: 'Example NFT 2',\n    creator: 'Hedera',\n    description: 'This is an example NFT 2',\n    image: 'https://nft.com/mycollection/2.jpg',\n    type: 'image/jpeg',\n    properties: {\n      external_url: 'https://nft.com/mycollection/2',\n      url: 'https://nft.com/mycollection/2',\n    },\n    attributes: [\n      { trait_type: 'color', value: 'rgb(0,255,0)' },\n      { trait_type: 'hasPipe', value: 'false' },\n      { trait_type: 'stamina', value: '99' },\n    ],\n  },\n];\n\nconst MIXED_METADATA_OBJECTS: MetadataObject[] = [\n  {\n    name: '',\n    creator: 'Hedera',\n    description: 'This is an example NFT 1',\n    type: 'image/jpeg',\n    properties: {\n      external_url: 'https://nft.com/mycollection/1',\n      url: 'https://nft.com/mycollection/1',\n    },\n    attributes: [\n      { trait_type: 'color', value: 'rgb(0,255,0)' },\n      { trait_type: 'hasPipe', value: 'false' },\n      { trait_type: 'stamina', value: '55' },\n    ],\n  },\n  {\n    name: 'Example NFT 2',\n    creator: 'Hedera',\n    description: 'This is an example NFT 2',\n    image: 'https://nft.com/mycollection/2.jpg',\n    type: 'image/jpeg',\n    properties: {\n      external_url: 'https://nft.com/mycollection/2',\n      url: 'https://nft.com/mycollection/2',\n    },\n    attributes: [\n      { trait_type: 'color', value: 'rgb(0,255,0)' },\n      { trait_type: 'hasPipe', value: 'false' },\n      { trait_type: 'stamina', value: '99' },\n    ],\n  },\n  {},\n];\n\ndescribe('validateArrayOfObjects', () => {\n  it('validates an array of valid metadata objects successfully', async () => {\n    const validationResult = TokenMetadataValidator.validateArrayOfObjects(VALID_METADATA_OBJECTS);\n    Object.values(validationResult.results).forEach((result) => {\n      expect(result.isValid).toBe(true);\n      expect(result.errorsCount).toBe(0);\n      expect(result.errors.length).toBe(0);\n    });\n  });\n\n  it('identifies errors in an array with invalid metadata objects', async () => {\n    const validationResult = TokenMetadataValidator.validateArrayOfObjects(MIXED_METADATA_OBJECTS);\n\n    expect(validationResult.allObjectsValid).toBe(false);\n\n    expect(validationResult.results[0].isValid).toBe(false);\n    expect(validationResult.results[0].errorsCount).toBe(2);\n    expect(validationResult.results[0].errors.length).toBe(2);\n\n    expect(validationResult.results[1].isValid).toBe(true);\n    expect(validationResult.results[1].errorsCount).toBe(0);\n    expect(validationResult.results[1].errors.length).toBe(0);\n\n    expect(validationResult.results[2].isValid).toBe(false);\n    expect(validationResult.results[2].errorsCount).toBe(3);\n    expect(validationResult.results[2].errors.length).toBe(3);\n  });\n});\n"],"mappings":"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","ignoreList":[]}