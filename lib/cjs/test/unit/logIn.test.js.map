{"version":3,"file":"logIn.test.js","names":["_logIn","require","_sdk","_consts","_dictionary","jest","mock","mockedSDK","requireActual","Client","forName","fn","mockReturnThis","forLocalNode","forNetwork","setMirrorNetwork","setOperator","AccountId","PrivateKey","generateED25519","toString","describe","it","logIn","myAccountId","myPrivateKey","network","expect","toHaveBeenCalled","toHaveBeenCalledWith","toThrow","dictionary","createCollection","myAccountIdRequired","localNode","mirrorNetwork","localMirrorNode"],"sources":["../../../../src/test/unit/logIn.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { logIn } from '../../nftSDKFunctions/log-in';\nimport { AccountId, Client } from '@hashgraph/sdk';\nimport { myAccountId, myPrivateKey } from '../__mocks__/consts';\nimport { dictionary } from '../../utils/constants/dictionary';\n\njest.mock('@hashgraph/sdk', () => {\n  const mockedSDK = jest.requireActual('@hashgraph/sdk');\n\n  return {\n    Client: {\n      forName: jest.fn().mockReturnThis(),\n      forLocalNode: jest.fn().mockReturnThis(),\n      forNetwork: jest.fn().mockReturnThis(),\n      setMirrorNetwork: jest.fn().mockReturnThis(),\n      setOperator: jest.fn(),\n    },\n    AccountId: jest.fn().mockReturnThis(),\n    PrivateKey: {\n      ...mockedSDK.PrivateKey,\n      generateED25519: jest.fn(() => ({\n        toString: () => 'fake-private-key',\n      })),\n    },\n  };\n});\n\ndescribe('logIn', () => {\n  it('should call setOperator with correct parameters', () => {\n    logIn({ myAccountId, myPrivateKey, network: 'testnet' });\n\n    expect(Client.forName).toHaveBeenCalled();\n    expect(Client.forName('testnet').setOperator).toHaveBeenCalledWith(myAccountId, myPrivateKey);\n  });\n\n  it('should throw an error if myAccountId is not provided', () => {\n    expect(() => logIn({ myAccountId: '', myPrivateKey, network: 'testnet' })).toThrow(dictionary.createCollection.myAccountIdRequired);\n  });\n\n  it('should create a client for local network', () => {\n    logIn({ myAccountId, myPrivateKey, network: 'localnode' });\n\n    expect(Client.forLocalNode).toHaveBeenCalled();\n    expect(Client.forLocalNode().setOperator).toHaveBeenCalledWith(myAccountId, myPrivateKey);\n  });\n\n  it('should create a client for local network with custom node', () => {\n    const localNode = { '127.0.0.1:50211': new AccountId(3) };\n    logIn({ myAccountId, myPrivateKey, network: 'localnode', localNode: localNode });\n\n    expect(Client.forNetwork).toHaveBeenCalled();\n    expect(Client.forNetwork(localNode).setOperator).toHaveBeenCalledWith(myAccountId, myPrivateKey);\n  });\n\n  it('should create a client for local network with custom node and mirror network', () => {\n    const localNode = { '127.0.0.1:50211': new AccountId(3) };\n    const mirrorNetwork = 'mirrorNetwork';\n    logIn({ myAccountId, myPrivateKey, network: 'localnode', localNode: localNode, localMirrorNode: mirrorNetwork });\n\n    expect(Client.forNetwork).toHaveBeenCalled();\n    expect(Client.forNetwork(localNode).setMirrorNetwork).toHaveBeenCalledWith(mirrorNetwork);\n    expect(Client.forNetwork(localNode).setOperator).toHaveBeenCalledWith(myAccountId, myPrivateKey);\n  });\n});\n"],"mappings":"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","ignoreList":[]}