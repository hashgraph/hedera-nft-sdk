{"version":3,"file":"estimate-create-collection-in-hbar.test.js","names":["_consts","require","_dictionary","_estimateCreateCollectionInHbar","_feeFactory","_getHbarPriceInDollars","jest","mock","feeFactoryInstance","beforeAll","FeeFactory","describe","it","getHbarPriceInDollars","mockResolvedValue","priceInDollars","hbars","estimateCreateCollectionInHbar","collectionName","network","collectionSymbol","expect","toEqual","royaltyFee","collectorAccountId","myAccountId","numerator","denominator","allCollectorsAreExempt","fallbackFee","mySecondAccountId","hbarAmount","customFees","fixedFee","treasuryAccount","rejects","toThrow","dictionary","createCollection","collectionSymbolRequired"],"sources":["../../../../../src/test/unit/create-collection/estimate-create-collection-in-hbar.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { myAccountId, mySecondAccountId } from '../../__mocks__/consts';\nimport { dictionary } from '../../../utils/constants/dictionary';\nimport { estimateCreateCollectionInHbar } from '../../../nftSDKFunctions/estimate-create-collection-in-hbar';\nimport { FeeFactory } from '../../../feeFactory';\nimport { getHbarPriceInDollars } from '../../../helpers/get-hbar-price-in-dollars';\n\njest.mock('../../../helpers/get-hbar-price-in-dollars');\n\nlet feeFactoryInstance: FeeFactory;\n\nbeforeAll(() => {\n  feeFactoryInstance = new FeeFactory();\n});\n\ndescribe('estimateCreateCollectionInHbars', () => {\n  it('should work properly with default values', async () => {\n    (getHbarPriceInDollars as jest.Mock).mockResolvedValue({ priceInDollars: 10 });\n\n    const hbars = await estimateCreateCollectionInHbar({\n      collectionName: 'test',\n      network: 'testnet',\n      collectionSymbol: 'test2',\n    });\n\n    expect(hbars).toEqual(0.086112);\n  });\n\n  it('should work properly with royalty fee', async () => {\n    (getHbarPriceInDollars as jest.Mock).mockResolvedValue({ priceInDollars: 10 });\n\n    const royaltyFee = feeFactoryInstance.royaltyFee({\n      collectorAccountId: myAccountId,\n      numerator: 11,\n      denominator: 100,\n      allCollectorsAreExempt: false,\n      fallbackFee: {\n        allCollectorsAreExempt: false,\n        collectorAccountId: mySecondAccountId,\n        hbarAmount: 100,\n      },\n    });\n\n    const hbars = await estimateCreateCollectionInHbar({\n      collectionName: 'test',\n      network: 'testnet',\n      collectionSymbol: 'test2',\n      customFees: [royaltyFee],\n    });\n\n    expect(hbars).toEqual(0.17235899999999998);\n  });\n\n  it('should work properly with fixed fees', async () => {\n    (getHbarPriceInDollars as jest.Mock).mockResolvedValue({ priceInDollars: 10 });\n\n    const fixedFee = feeFactoryInstance.fixedFee({\n      allCollectorsAreExempt: false,\n      collectorAccountId: myAccountId,\n      hbarAmount: 100,\n    });\n\n    const hbars = await estimateCreateCollectionInHbar({\n      collectionName: 'test',\n      network: 'testnet',\n      collectionSymbol: 'test2',\n      customFees: [fixedFee, fixedFee],\n    });\n\n    expect(hbars).toEqual(0.172439);\n  });\n\n  it('should throw an error when invalid parameters are passed', async () => {\n    await expect(\n      estimateCreateCollectionInHbar({\n        collectionName: '',\n        collectionSymbol: '',\n        treasuryAccount: '',\n        network: 'testnet',\n        customFees: [],\n      })\n    ).rejects.toThrow(dictionary.createCollection.collectionSymbolRequired);\n  });\n});\n"],"mappings":"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","ignoreList":[]}