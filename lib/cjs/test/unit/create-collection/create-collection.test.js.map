{"version":3,"file":"create-collection.test.js","names":["_sdk","require","_createCollection","_consts","_dictionary","jest","mock","Client","forTestnet","fn","mockImplementation","setOperator","getOperator","mockResolvedValue","accountId","toString","mockReturnValue","_maxExecutionTime","setMaxExecutionTime","_setNetworkFromName","setMirrorNetwork","AccountId","fromString","mockReturnThis","PrivateKey","generateED25519","fromStringED25519","fromStringECDSA","TokenCreateTransaction","setTokenName","setTokenSymbol","setTokenType","setSupplyType","setSupplyKey","setTreasuryAccountId","setAdminKey","setKycKey","setFreezeKey","setWipeKey","setFeeScheduleKey","setPauseKey","setMaxSupply","setCustomFees","freezeWith","sign","execute","getReceipt","tokenId","TokenType","NonFungibleUnique","describe","it","client","collectionName","collectionSymbol","createCollectionFunction","myPrivateKey","expect","toEqual","treasuryAccount","rejects","toThrow","dictionary","createCollection","treasuryAccountPrivateKeySignRequired","treasuryAccountPrivateKey","keys","admin","supply","collectionNameRequired","collectionSymbolRequired"],"sources":["../../../../../src/test/unit/create-collection/create-collection.test.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { Client, PrivateKey } from '@hashgraph/sdk';\nimport { createCollectionFunction } from '../../../nftSDKFunctions/create-collection';\nimport { myPrivateKey, treasuryAccountPrivateKey } from '../../__mocks__/consts';\nimport { dictionary } from '../../../utils/constants/dictionary';\n\njest.mock('@hashgraph/sdk', () => {\n  return {\n    Client: {\n      forTestnet: jest.fn().mockImplementation(() => ({\n        setOperator: jest.fn(),\n        getOperator: jest.fn().mockResolvedValue({\n          accountId: {\n            toString: jest.fn().mockReturnValue('1.2.1234'),\n          },\n        }),\n        _maxExecutionTime: jest.fn(),\n        setMaxExecutionTime: jest.fn(),\n        _setNetworkFromName: jest.fn(),\n        setMirrorNetwork: jest.fn(),\n      })),\n    },\n    AccountId: {\n      fromString: jest.fn().mockReturnThis(),\n    },\n    PrivateKey: {\n      fromString: jest.fn().mockReturnThis(),\n      generateED25519: jest.fn().mockReturnThis(),\n      fromStringED25519: jest.fn().mockReturnThis(),\n      fromStringECDSA: jest.fn().mockReturnThis(),\n    },\n    TokenCreateTransaction: jest.fn(() => ({\n      setTokenName: jest.fn().mockReturnThis(),\n      setTokenSymbol: jest.fn().mockReturnThis(),\n      setTokenType: jest.fn().mockReturnThis(),\n      setSupplyType: jest.fn().mockReturnThis(),\n      setSupplyKey: jest.fn().mockReturnThis(),\n      setTreasuryAccountId: jest.fn().mockReturnThis(),\n      setAdminKey: jest.fn().mockReturnThis(),\n      setKycKey: jest.fn().mockReturnThis(),\n      setFreezeKey: jest.fn().mockReturnThis(),\n      setWipeKey: jest.fn().mockReturnThis(),\n      setFeeScheduleKey: jest.fn().mockReturnThis(),\n      setPauseKey: jest.fn().mockReturnThis(),\n      setMaxSupply: jest.fn().mockReturnThis(),\n      setCustomFees: jest.fn().mockReturnThis(),\n      freezeWith: jest.fn().mockReturnThis(),\n      sign: jest.fn().mockResolvedValue({\n        execute: jest.fn().mockResolvedValue({\n          getReceipt: jest.fn().mockResolvedValue({\n            tokenId: {\n              toString: jest.fn().mockReturnValue('1.2.1234'),\n            },\n          }),\n        }),\n      }),\n    })),\n    TokenType: {\n      NonFungibleUnique: 'NonFungibleUnique',\n    },\n  };\n});\n\ndescribe('createCollectionFunction', () => {\n  it('should create a collection and return a tokenId', async () => {\n    const client = Client.forTestnet();\n    const collectionName = 'test';\n    const collectionSymbol = 'test2';\n\n    const tokenId = await createCollectionFunction({\n      client,\n      myPrivateKey,\n      collectionName,\n      collectionSymbol,\n    });\n\n    expect(tokenId).toEqual('1.2.1234');\n  });\n\n  it('should throw an error when only treasuryAccount is passed', async () => {\n    const client = Client.forTestnet();\n    const collectionName = 'test';\n    const collectionSymbol = 'test2';\n\n    await expect(\n      createCollectionFunction({\n        client,\n        myPrivateKey,\n        collectionName,\n        collectionSymbol,\n        treasuryAccount: '0.0.4321',\n      })\n    ).rejects.toThrow(dictionary.createCollection.treasuryAccountPrivateKeySignRequired);\n  });\n\n  it('should throw an error when only treasuryAccountPrivateKey is passed', async () => {\n    const client = Client.forTestnet();\n    const collectionName = 'test';\n    const collectionSymbol = 'test2';\n\n    await expect(\n      createCollectionFunction({\n        client,\n        myPrivateKey,\n        collectionName,\n        collectionSymbol,\n        treasuryAccountPrivateKey,\n      })\n    ).rejects.toThrow(dictionary.createCollection.treasuryAccountPrivateKeySignRequired);\n  });\n\n  it('should create collection when treasuryAccount and treasuryAccountPrivateKey are passed', async () => {\n    const client = Client.forTestnet();\n    const collectionName = 'test';\n    const collectionSymbol = 'test2';\n\n    const tokenId = await createCollectionFunction({\n      client,\n      myPrivateKey,\n      collectionName,\n      collectionSymbol,\n    });\n\n    expect(tokenId).toEqual('1.2.1234');\n  });\n\n  it('should throw an error if collectionName is not provided', async () => {\n    const client = Client.forTestnet();\n    const collectionSymbol = 'test2';\n    const keys = {\n      admin: myPrivateKey,\n      supply: myPrivateKey,\n    };\n    const treasuryAccount = '0.0.4321';\n\n    await expect(\n      createCollectionFunction({\n        client,\n        myPrivateKey,\n        collectionName: '',\n        collectionSymbol,\n        keys,\n        treasuryAccount,\n        treasuryAccountPrivateKey,\n      })\n    ).rejects.toThrow(dictionary.createCollection.collectionNameRequired);\n  });\n\n  it('should throw an error if collectionSymbol is not provided', async () => {\n    const client = Client.forTestnet();\n    const keys = {\n      admin: myPrivateKey,\n      supply: myPrivateKey,\n    };\n    const treasuryAccount = '0.0.4321';\n\n    await expect(\n      createCollectionFunction({\n        client,\n        myPrivateKey,\n        collectionName: 'abc',\n        collectionSymbol: '',\n        keys,\n        treasuryAccount,\n        treasuryAccountPrivateKey,\n      })\n    ).rejects.toThrow(dictionary.createCollection.collectionSymbolRequired);\n  });\n\n  it('should create a collection with keys', async () => {\n    const client = Client.forTestnet();\n    const collectionName = 'test';\n    const collectionSymbol = 'test2';\n    const keys = {\n      admin: PrivateKey.generateED25519(),\n      supply: myPrivateKey,\n    };\n\n    const tokenId = await createCollectionFunction({\n      client,\n      myPrivateKey,\n      collectionName,\n      collectionSymbol,\n      keys,\n    });\n\n    expect(tokenId).toEqual('1.2.1234');\n  });\n});\n"],"mappings":"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","ignoreList":[]}