{"version":3,"file":"validate-props.js","names":["_sdk","require","_dictionary","MAX_CUSTOM_FEES_NUMBER","MAX_BATCH_SIZE_NUMBER","MIN_BATCH_SIZE_NUMBER","MIN_AMOUNT_NUMBER","validatePropsForSharedNFTMinting","props","validateBatchSize","batchSize","validTokenId","tokenId","validateAmount","amount","validateMetaData","exports","validatePropsForUniqueNFTMinting","validateMetadataForUnique","validatePropsForCreateCollection","validateAccountAndPrivateKey","treasuryAccount","validAccountId","treasuryAccountPrivateKey","validateAutoRenewAccount","autoRenewAccount","autoRenewAccountPrivateKey","validateCollectionSymbol","validateCollectionName","validateCustomFees","validatePropsForFixedFeeFunction","collectorAccountId","hbarAmountOrAmountAndDenominatingToken","validatePropsForRoyaltyFeeFunction","validatePropsForIncreaseNFTSupply","hbarAmount","denominatingTokenId","Error","dictionary","createCollection","Object","prototype","hasOwnProperty","call","customFees","length","hederaActions","tooManyCustomFees","TokenId","fromString","error","cannotParseTokenId","accountId","cannotParseAccountId","AccountId","treasuryAccountPrivateKeySignRequired","autoRenewAccountPrivateKeySignRequired","collectionSymbol","collectionSymbolRequired","collectionName","collectionNameRequired","maxBatchSize","minBatchSize","minAmount","metaData","metadataRequired","metadataArray","pathToMetadataURIsFile","mintToken","csvOrArrayRequired"],"sources":["../../../src/utils/validate-props.ts"],"sourcesContent":["/*-\n *\n * Hedera NFT SDK\n *\n * Copyright (C) 2024 Hedera Hashgraph, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { AccountId, TokenId } from '@hashgraph/sdk';\nimport {\n  validateCreateCollectionProps,\n  uniqueMintingValidationProps,\n  sharedMintingValidationProps,\n  fixedFeeValidationProps,\n  royaltyFeeValidationProps,\n  increaseNFTSupplyValidationProps,\n} from '../types/validate-props';\nimport { dictionary } from './constants/dictionary';\n\nconst MAX_CUSTOM_FEES_NUMBER = 10;\nconst MAX_BATCH_SIZE_NUMBER = 10;\nconst MIN_BATCH_SIZE_NUMBER = 1;\nconst MIN_AMOUNT_NUMBER = 1;\n\nexport const validatePropsForSharedNFTMinting = (props: sharedMintingValidationProps) => {\n  validateBatchSize(props.batchSize);\n  validTokenId(props.tokenId);\n  validateAmount(props.amount);\n  validateMetaData(props);\n};\n\nexport const validatePropsForUniqueNFTMinting = (props: uniqueMintingValidationProps) => {\n  validateMetadataForUnique(props);\n  validateBatchSize(props.batchSize);\n  validTokenId(props.tokenId);\n};\n\nexport const validatePropsForCreateCollection = (props: validateCreateCollectionProps) => {\n  validateAccountAndPrivateKey(props);\n  if (props.treasuryAccount) validAccountId(props.treasuryAccount);\n  if (props.treasuryAccountPrivateKey) props.treasuryAccountPrivateKey;\n\n  validateAutoRenewAccount(props);\n  if (props.autoRenewAccount) validAccountId(props.autoRenewAccount);\n  if (props.autoRenewAccountPrivateKey) props.autoRenewAccountPrivateKey;\n\n  validateCollectionSymbol(props);\n  validateCollectionName(props);\n  validateCustomFees(props);\n};\n\nexport const validatePropsForFixedFeeFunction = (props: fixedFeeValidationProps) => {\n  validAccountId(props.collectorAccountId);\n  hbarAmountOrAmountAndDenominatingToken(props);\n};\n\nexport const validatePropsForRoyaltyFeeFunction = (props: royaltyFeeValidationProps) => {\n  validAccountId(props.collectorAccountId);\n};\n\nexport const validatePropsForIncreaseNFTSupply = (props: increaseNFTSupplyValidationProps) => {\n  validateBatchSize(props.batchSize);\n  validateAmount(props.amount);\n};\n\nconst hbarAmountOrAmountAndDenominatingToken = (props: fixedFeeValidationProps) => {\n  if (\n    (props.hbarAmount && (props.amount || props.denominatingTokenId)) ||\n    (!props.hbarAmount && (!props.amount || !props.denominatingTokenId))\n  ) {\n    throw new Error(dictionary.createCollection.hbarAmountOrAmountAndDenominatingToken);\n  }\n};\n\nconst validateCustomFees = (props: validateCreateCollectionProps) => {\n  if (Object.prototype.hasOwnProperty.call(props, 'collectionSymbol')) {\n    if (props.customFees && props.customFees.length > MAX_CUSTOM_FEES_NUMBER) throw new Error(dictionary.hederaActions.tooManyCustomFees);\n  }\n};\n\nconst validTokenId = (tokenId: string) => {\n  try {\n    TokenId.fromString(tokenId);\n  } catch (error) {\n    throw new Error(dictionary.hederaActions.cannotParseTokenId);\n  }\n};\n\nconst validAccountId = (accountId: string) => {\n  if (!accountId) throw new Error(dictionary.hederaActions.cannotParseAccountId);\n  try {\n    AccountId.fromString(accountId);\n  } catch (error) {\n    throw new Error(dictionary.hederaActions.cannotParseAccountId);\n  }\n};\n\nconst validateAccountAndPrivateKey = (props: validateCreateCollectionProps) => {\n  if (\n    Object.prototype.hasOwnProperty.call(props, 'treasuryAccount') ||\n    Object.prototype.hasOwnProperty.call(props, 'treasuryAccountPrivateKey')\n  ) {\n    if ((props.treasuryAccount && !props.treasuryAccountPrivateKey) || (!props.treasuryAccount && props.treasuryAccountPrivateKey)) {\n      throw new Error(dictionary.createCollection.treasuryAccountPrivateKeySignRequired);\n    }\n  }\n};\n\nconst validateAutoRenewAccount = (props: validateCreateCollectionProps) => {\n  if (\n    Object.prototype.hasOwnProperty.call(props, 'autoRenewAccount') ||\n    Object.prototype.hasOwnProperty.call(props, 'autoRenewAccountPrivateKey')\n  ) {\n    if ((props.autoRenewAccount && !props.autoRenewAccountPrivateKey) || (!props.autoRenewAccount && props.autoRenewAccountPrivateKey)) {\n      throw new Error(dictionary.createCollection.autoRenewAccountPrivateKeySignRequired);\n    }\n  }\n};\n\nconst validateCollectionSymbol = (props: validateCreateCollectionProps) => {\n  if (!props.collectionSymbol) throw new Error(dictionary.createCollection.collectionSymbolRequired);\n};\n\nconst validateCollectionName = (props: validateCreateCollectionProps) => {\n  if (!props.collectionName) throw new Error(dictionary.createCollection.collectionNameRequired);\n};\n\nconst validateBatchSize = (batchSize: number) => {\n  if (batchSize > MAX_BATCH_SIZE_NUMBER) throw new Error(dictionary.hederaActions.maxBatchSize);\n  if (batchSize < MIN_BATCH_SIZE_NUMBER) throw new Error(dictionary.hederaActions.minBatchSize);\n};\n\nconst validateAmount = (amount: number) => {\n  if (!amount || amount < MIN_AMOUNT_NUMBER) throw new Error(dictionary.hederaActions.minAmount);\n};\n\nconst validateMetaData = (props: sharedMintingValidationProps) => {\n  if (Object.prototype.hasOwnProperty.call(props, 'metaData')) {\n    if (!props.metaData) throw new Error(dictionary.hederaActions.metadataRequired);\n  }\n};\n\nconst validateMetadataForUnique = (props: uniqueMintingValidationProps) => {\n  if (\n    (!Object.prototype.hasOwnProperty.call(props, 'metadataArray') || !props.metadataArray) &&\n    (!Object.prototype.hasOwnProperty.call(props, 'pathToMetadataURIsFile') || !props.pathToMetadataURIsFile)\n  ) {\n    throw new Error(dictionary.mintToken.csvOrArrayRequired);\n  }\n};\n"],"mappings":"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","ignoreList":[]}